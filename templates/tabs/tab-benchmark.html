<p>Compare your protocol against the compiled dataset using the associated ranges of outcome-enriched protocol features.</p>
&nbsp;

<div class="search-row">
    <!-- Left side: Target Topic form (copied from search tab) -->
    <div class="search-ui-container">
        <form id="benchmark-form-left">
            <div class="search-ui-form-group">
                <label for="benchmark-key-dropdown-left" class="search-ui-label"></label>
                <select id="benchmark-key-dropdown-left" name="category" class="search-ui-select">
                    <option value="">-- Select a Protocol Purpose --</option>
                    {% for category in TargetParameters %}
                        <option value="{{ category }}">{{ category }}</option>
                    {% endfor %}
                </select>
            </div>

            <div class="search-ui-form-group">
                <label class="search-ui-label">What is the protocol's purpose/application?:</label>
                <div id="benchmark-checkbox-container-left" class="search-ui-checkbox-container search-ui-hidden">
                    <p id="benchmark-loading-message-left">Please select a category first...</p>
                </div>
                <div class="search-ui-selection-summary" id="benchmark-selection-summary-left"></div>
            </div>
        </form>
    </div>
    
    <!-- Middle: Upload areas -->
    <div class="search-ui-container">
        <!-- First upload area (Protocol file) -->
        <div class="upload-area mb-3">
            <p>Drag and drop your protocol file here or select features on the right</p>
            <input type="file" id="protocol-file" style="display: none;">
            <button class="btn btn-secondary" id="browse-button">Browse Files</button>
        </div>

        <!-- Second upload area (Comparison file) - required -->
        <div class="upload-area" style="border-color: #e74c3c;">
            <p><strong>Required:</strong> Upload comparison file (e.g., published protocol or reference dataset)</p>
            <input type="file" id="comparison-file" style="display: none;">
            <button class="btn btn-secondary" id="comparison-browse-button">Upload Comparison</button>
        </div>
    </div>
    
    <!-- Right side: Features form (similar to search tab) -->
    <div class="search-ui-container">
        <form id="benchmark-form-right">
            <div class="search-ui-form-group">
                <label for="benchmark-key-dropdown-right" class="search-ui-label">Feature Category</label>
                <select id="benchmark-key-dropdown-right" name="category" class="search-ui-select">
                    <option value="">-- Select Feature Category --</option>
                    {% for category in FeatureCategories %}
                        <option value="{{ category }}">{{ category }}</option>
                    {% endfor %}
                </select>
            </div>
            <div class="search-ui-form-group">
                <label class="search-ui-label">Select features and reagents to benchmark against:</label>
                <div id="benchmark-checkbox-container-right" class="search-ui-checkbox-container search-ui-hidden">
                    <p id="benchmark-loading-message-right">Please select a category first...</p>
                </div>
                <div class="search-ui-selection-summary" id="benchmark-selection-summary-right"></div>
            </div>
        </form>
    </div>
</div>

<!-- Submit button -->
<div class="global-submit-container">
    <button id="benchmark-submit-button" class="btn btn-primary">Benchmark Protocol</button>
    <p class="text-muted mt-2 small">Note: Comparison file upload is required to enable benchmarking</p>
</div>

<!-- Result visualization for JSON data -->
<div id="benchmark-result-display" class="well" style="display: none;">
    <h3>Submission Data:</h3>
    <pre id="benchmark-submission-result" class="search-ui-pre"></pre>
</div>

<!-- Visualization section for benchmark results -->
<div class="visualization">
    <p>Protocol Benchmarking Visualization</p>
    <div id="benchmark-visualization-container"></div>
</div>

<!-- Table of benchmark results -->
<div class="well">
    <div id="table-benchmark-container"></div>
</div>
