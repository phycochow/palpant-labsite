<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta charset="UTF-8">
    <title>{% block Title %}Dashboard{% endblock %}</title>
    <!-- <link rel="stylesheet" href="../static/css/dashboard.css"> -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/dashboard.css') }}">
</head>


<body>
    <!-- Widget to display screen size -->
    <div id="screen-widget" style="position:fixed; top:500px; right:500px; background:#fff; border:1px solid #ccc; padding:5px; z-index:9999;">
    Screen: <span id="screen-size">Loading...</span>
    </div>

    <div class="page-wrapper">
        <aside class="sidebar">
            <div class="sidebar-header">
                {% block Logo %}
                    <div class="logo">Dash<span>board</span></div>
                {% endblock %}
            </div>

            {% block Sidebar %}
                <nav class="sidebar-menu">
                    <a href="https://palpantlab.duckdns.org/cmportal" class="menu-item">
                        <span class="icon icon-database"></span>
                        CMPortal
                    </a>
                    <a href="#" class="menu-item">
                        <span class="icon icon-enrichment"></span>
                        EpiCop
                    </a>
                    <a href="#" class="menu-item">
                        <span class="icon icon-search"></span>
                        Study 3
                    </a>
                    <a href="#" class="menu-item">
                        <span class="icon icon-benchmark"></span>
                        Study 4
                    </a>
                    <a href="https://palpantlab.duckdns.org/" class="menu-item">
                        <span class="icon icon-dashboard"></span>
                        Exit Dashboard
                    </a>
                </nav>
            {% endblock %}
            
            <div class="sidebar-footer">
                <p>My Geneious Dashboard v1.0</p>
                <p>Â© 2025 Palpant Lab</p>
            </div>
        </aside>
        
        <main class="main-content">
            <div class="top-bar">
                <div class="dashboard-header">
                    <h2>CMPortal Overview</h2>
                    <p class="page-description">A computationally enriched resource for hiPSC-CM protocol optimization</p>
                </div>
                
                <div class="user-menu">
                    <div class="avatar">R</div>
                    <div class="avatar">R</div>
                    <!-- Wrap the text in its own container -->
                    <div class="avatar-text">
                        <span>Key Researchers</span>
                        <p>View the publication</p>
                    </div>
                </div>
            </div>
            
            <div class="content-wrapper">
                
                {% block Content %}

                    <p>This is the main dashboard content. Below can be changed to metrics about this dashboard's usage</p>

                    <div class="stats-grid">
                        <div class="stat-card">
                            <div class="stat-title">Total Studies</div>
                            <div class="stat-value">322</div>
                            <div class="stat-description">Studies analyzed in the database</div>
                        </div>
                        
                        <div class="stat-card">
                            <div class="stat-title">Protocol Variables</div>
                            <div class="stat-value">442</div>
                            <div class="stat-description">Distinct variables analyzed</div>
                        </div>
                        
                        <div class="stat-card">
                            <div class="stat-title">Target Outcomes</div>
                            <div class="stat-value">117</div>
                            <div class="stat-description">Characteristics and outcomes</div>
                        </div>
                        
                        <div class="stat-card">
                            <div class="stat-title">Maturity Indicators</div>
                            <div class="stat-value">16</div>
                            <div class="stat-description">Analyzed maturity metrics</div>
                        </div>
                    </div>

                {% endblock %}

            </div>
        </main>
    </div>


    <!-- Responsive Widget Script -->
    <script>
        function updateScreenSize() {
            // Get the current screen width
            const width = window.innerWidth;
            // Update the widget display
            document.getElementById('screen-size').textContent = width + 'px';
            // Set a data attribute on the body based on the screen width
            let sizeClass;
            if (width < 768) {
                sizeClass = 'small';
            } else if (width < 1024) {
                sizeClass = 'medium';
            } else {
                sizeClass = 'large';
            }
            document.body.setAttribute('data-screen', sizeClass);
        }
        // Update on load and on window resize
        window.addEventListener('resize', updateScreenSize);
        updateScreenSize();
    </script>

</body>
</html>
